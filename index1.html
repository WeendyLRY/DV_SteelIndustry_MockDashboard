<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Load d3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <title>Document</title>
</head>
<style>

.zoom {
    zoom: 2;
    -moz-transform: scale(2);
    -moz-transform-origin: 0 0;
}

.line {
  fill: none;
  stroke: rgb(186, 0, 106);
  stroke-width: 2px;
}

.container-wrapper_bot-most,
.container-wrapper_bot-most-2,
.container-wrapper_top
{
    margin-top: 22px;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    height: auto; /* Set the container wrapper to full viewport height */
    background-color: #ebebeb;
    width: 100%;

}

.container-wrapper_bot{
    margin-top: 12px;
    padding-top: 10px;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    height: auto; /* Set the container wrapper to full viewport height */
    background-color: #ebebeb;
    width: 100%;
}

.container-wrapper
{
    padding-top: auto; /* Add padding to separate the graph from the container edges */
    margin-top: auto;
    width:100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 50vh; /* Set the container wrapper to full viewport height */
}

.container_lesson_1 {
    width: 100%; /* Set the width as needed */
    margin-top: 80px;
    max-width: 500px;
    height: 400px; /* Set the height as needed */
    background-color: #eec8ee;
    border-radius: 20px; /* Adjust the radius for rounded corners */
    padding: 20px 20px 80px 30px; /* Add padding to separate the graph from the container edges */

}

.container_lesson_2 {
    width: 100%; /* Set the width as needed */
    margin-top: 80px;
    max-width: 500px;
    height: 400px; /* Set the height as needed */
    background-color: #91eae7;
    border-radius: 20px; /* Adjust the radius for rounded corners */

    padding: 20px 20px 80px 30px; /* Add padding to separate the graph from the container edges */
}

.container_lesson_3 {
    width: 100%; /* Set the width as needed */
    margin-top: 80px;
    max-width: 500px;
    height: 400px; /* Set the height as needed */
    background-color: #f6f0bb;
    border-radius: 20px; /* Adjust the radius for rounded corners */
    padding: 20px 20px 30px 30px; /* Add padding to separate the graph from the container edges */
    padding: 20px 20px 80px 30px; /* Add padding to separate the graph from the container edges */
}


.grouped_data_modified_lesson_2 {
    width: 1500px; /* Set the width as needed */
    margin-top: 100px;
    max-width: 500px;
    height: 400px; /* Set the height as needed */
    background-color: #d9fad9;
    border-radius: 20px; /* Adjust the radius for rounded corners */
    padding-top: 100px 20px 80px 30px; /* Add padding to separate the graph from the container edges */
    justify-content: center;
}

.google_modified_lesson_2,
.amazon_modified_lesson_2,
.microsoft_modified_lesson_2,
.ibm_modified_lesson_2,
.facebook_modified_lesson_2,
.apple_modified_lesson_2 {
    width: 600px; /* Set the width as needed */
    margin-top: 150px;
    max-width: 500px;
    height: 400px; /* Set the height as needed */
    border-radius: 20px; /* Adjust the radius for rounded corners */
    padding: 20px 20px 80px 30px; /* Add padding to separate the graph from the container edges */
}

</style>

<body>
    <div class = "container-wrapper">

        <div class = "container-wrapper_top">

            <div class = "container_lesson_1">
                <p style="font-size: 16px; text-align: center;"> Trend of electric kWh against time </p>
                <div id="lesson_1"></div>
                <div id="lesson_1_text"><p></p>
                </p></div>
            </div>
            <div class = "container_lesson_2">
                <p style="font-size: 16px; text-align: center;"></p>
                <div id="lesson_2"></div>
                <div id="lesson_1_text"><p>
                </p>
                </div>
            </div>
            <div class = "container_lesson_3" style="padding-top: 10px; padding-bottom: 30px;">
                <p style="font-size: 16px; text-align: center;"></p>
                <div id="lesson_3" style="align-items: center;" ></div>
                    <p></p>

                </div>
            </div>
        </div>

        <!-- <div class = "container-wrapper_bot" style="height: 600px; margin-top:10px; padding-bottom: 100px;" >
            <div class = "grouped_data_modified_lesson_2" style = "width: 1200px">
                <p style="font-size: 16px; text-align: center;"> Grouped Data </p>
                <div id="lesson_4" style = "width: 1000px; max-width: 1000px; position:sticky;" ></div>
                <div id="lesson_2_text"><p>This gives an overview of the stock data. The similar scale along
                    all stocks allow us to make direct comparison along all stocks. It also allows us to see an overview
                    of all stocks and their trends. Hence, we can compare their trends.

                </p>
                </p></div>
            </div>
        </div> -->

        <!-- <div class = "container-wrapper_bot-most">
            <div class = "apple_modified_lesson_2" style="background-color: #eec8ee;">
                <p style="font-size: 16px; text-align: center;"> Apple </p>
                <div id="apple__modified_grouped_data"></div>
                <div id="apple_text"><p>Stock price increases before dropping abruptly.</p>
                </p></div>
            </div>

            <div class = "google_modified_lesson_2" style="background-color: #91eae7;">
                <p style="font-size: 16px; text-align: center;"> Google </p>
                <div id="google__modified_grouped_data"></div>
                <div id="google_text"><p>Stock price increase steadily.</p>
                </p></div>
            </div>

            <div class = "amazon_modified_lesson_2" style="background-color: #f6f0bb;">
                <p style="font-size: 16px; text-align: center;">  Amazon </p>
                <div id="amazon__modified_grouped_data"></div>
                <div id="apple_text"><p>Stock price increase steadily.</p>
                </p></div>
            </div>

        </div>

        <div class = "container-wrapper_bot-most-2">
            <div class = "microsoft_modified_lesson_2" style="background-color: #eec8ee;">
                <p style="font-size: 16px; text-align: center;"> Microsoft </p>
                <div id="microsoft__modified_grouped_data"></div>
                <div id="apple_text"><p>Stock price decrease steadily before plateauing.</p>
                </p></div>
            </div>

            <div class = "ibm_modified_lesson_2" style="background-color: #91eae7;">
                <p style="font-size: 16px; text-align: center;"> IBM </p>
                <div id="ibm__modified_grouped_data"></div>
                <div id="IBM_text"><p>A drastic increase before a slight decrease.</p>
                </p></div>
            </div>

            <div class = "facebook_modified_lesson_2" style="background-color: #f6f0bb;">
                <p style="font-size: 16px; text-align: center;"> Facebook </p>
                <div id="facebook__modified_grouped_data"></div>
                <div id="facebook_text"><p>Stock price is stagnant and directly increase.</p>
                </p></div>
            </div>

        </div> -->



    </div>

    <!-- <div class = "grouped_data_modified_lesson_2"
                    <p style="font-size: 16px; text-align: center;">Lesson_2_Second_Style (Unmodified)</p>
            <div id="lesson_2_modified_grouped_data"></div> -->

    <script>

    // ******************************
    // ******************************
    // ******************************
    // **********first graph********
    // ******************************
    // ******************************
    // ******************************

    // set the dimensions and margins of the graph


    //commented on 4th nov
        var margin = {top: 10, right: 30, bottom: 30, left: 60},
            width = 1560 - margin.left - margin.right,
            height = 400 - margin.top - margin.bottom;

        var svg = d3.select("#lesson_1").append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform",
                "translate(" + margin.left + "," + margin.top + ")");

        //get the data
        d3.csv("https://raw.githubusercontent.com/WeendyLRY/DV_SteelIndustry_MockDashboard/main/Steel_industry_data.csv")
            .then(function(data) {
                console.log("Data loaded:", data); // Log the loaded data

            // format the data
                data.forEach(function(d) {
                    d.date = d3.timeParse("%m/%d/%Y %H:%M")(d.date);
                    d.Usage_kWh = +d.Usage_kWh;
                    // Handle parsing errors
                if (isNaN(d.date) || isNaN(d.Usage_kWh)) {
                    console.log("Error parsing date or value:", d);
                }
            });

            // add x axis
            // if doesnt work, try putting domain before range like in given example
            var x = d3.scaleTime()
            .range([0, width])
            .domain(d3.extent(data, function(d) { return d.date; }));
            svg.append("g")
            .attr("transform", "translate(0," + height + ")")
            .call(d3.axisBottom(x));

            // add y-axis
            var y = d3.scaleLinear()
            .range([height, 0])
            .domain([0, d3.max(data, function(d) { return d.Usage_kWh; })])
            svg.append("g")
            .call(d3.axisLeft(y));

            // add the line and close the scripts
            svg.append("path")
            .data([data])
            .attr("class", "line")
            .attr("d", d3.line()
                .x(function(d) { return x(d.date); })
                .y(function(d) { return y(d.Usage_kWh); }));

                // Add x-axis label
            svg.append("text")
                .attr("class", "x-axis-label")
                .attr("text-anchor", "middle") // Center-align the text
                .attr("x", width / 2)
                .attr("y", height + 30) // Position below the x-axis
                .text("Date");

            // Add y-axis label
            svg.append("text")
                .attr("class", "y-axis-label")
                .attr("text-anchor", "middle") // Center-align the text
                .attr("x", -height / 2) // Rotate and position on the left side
                .attr("y", -40)
                .attr("transform", "rotate(-90)") // Rotate the label
                .text("Usage in kWh");

            // Add title
            svg.append("text")
                    .attr("x", width / 2)
                    .attr("y", -10)
                    .attr("text-anchor", "middle")
                    .style("font-size", "32px")
                    .style("fill", "black")
                    .text("Lesson 1");
                })
                    .catch(function(error) {
                        console.error("Error loading CSV:", error);
                    });

    //commented on 4th nov (end)

    // ******************************
    // ******************************
    // ******************************
    // **********second graph********
    // ******************************
    // ******************************
    // ******************************

    var donutChartDiv = d3.select("#lesson_2");

// Set the dimensions and radius of the donut chart
var donutWidth = 400;
var donutHeight = 400;
var donutRadius = Math.min(donutWidth, donutHeight) / 2;

// Create an SVG for the donut chart
var donutSvg = donutChartDiv.append("svg")
    .attr("width", donutWidth)
    .attr("height", donutHeight)
    .append("g")
    .attr("transform", "translate(" + (donutWidth / 2) + "," + (donutHeight / 2) + ")");

d3.csv("https://raw.githubusercontent.com/WeendyLRY/DV_SteelIndustry_MockDashboard/main/Steel_industry_data.csv").then(function(data) {
    // Count the frequency of each category in the "Load_Type" column
    var categoryCounts = d3.rollups(data, v => v.length, d => d.Load_Type);

    // Create an array of objects with the category and count
    var categoryData = categoryCounts.map(([key, value]) => ({ category: key, count: value }));

    // Create a color scale
    var color = d3.scaleOrdinal()
        .domain(categoryData.map(d => d.category))
        .range(d3.schemeCategory10); // You can choose a different color scheme

    // Create a pie layout
    var pie = d3.pie()
        .value(d => d.count);

    // Create an arc generator for the donut chart
    var arc = d3.arc()
        .innerRadius(donutRadius * 0.6)
        .outerRadius(donutRadius);

    // Create a path for each data point in the pie chart
    var path = donutSvg.selectAll("path")
        .data(pie(categoryData))
        .enter()
        .append("path")
        .attr("d", arc)
        .attr("fill", d => color(d.data.category));

    // Add labels for the pie chart slices
    var label = d3.arc()
        .outerRadius(donutRadius * 0.7)
        .innerRadius(donutRadius * 0.7);

    donutSvg.selectAll("text")
        .data(pie(categoryData))
        .enter()
        .append("text")
        .attr("transform", d => "translate(" + label.centroid(d) + ")")
        .attr("dy", "0.35em")
        .text(d => d.data.category);

    // Add a title for the donut chart
    donutSvg.append("text")
        .attr("text-anchor", "middle")
        .text("Load Type Proportion");
})
.catch(function(error) {
    console.error("Error loading CSV:", error);
});



    // ******************************
    // ******************************
    // ******************************
    // **********third  graph********
    // ******************************
    // ******************************
    // ******************************

    // set the dimensions and margins of the graph



    // // parse the date / time
    // var parseTime = d3.timeParse("%d-%b-%y");

    // // append the svg obgect to the body of the page
    // // appends a 'group' element to 'svg'
    // // moves the 'group' element to the top left margin
    // var svg3 = d3.select("#lesson_3").append("svg")
    //     .attr("width", width + margin.left + margin.right)
    //     .attr("height", height + margin.top + margin.bottom)
    //     .append("g")
    //     .attr("transform",
    //       "translate(" + margin.left + "," + margin.top + ")");



    // // load data
    // d3.csv("https://raw.githubusercontent.com/WeendyLRY/Week4Lab20001351/main/stock_data.csv")
    // .then(function(data) {

    //     // format data

    //     data.forEach(function(d) {
    //         d.date = parseTime(d.date);
    //         d.closes = +d.closes;
    //         d.open = +d.open;
    //     });

    //        // set the ranges
    // var x = d3.scaleTime().range([0, width]);
    // var y = d3.scaleLinear().range([height, 0]);

    // // define the line
    // var valueline_closes = d3.line()
    // .x(function(d) { return x(d.date); })
    // .y(function(d) { return y(d.closes); });

    // var valueline_open = d3.line()
    // .x(function(d) { return x(d.date); })
    // .y(function(d) { return y(d.open); });

    //      // Scale the range of the data
    //     x.domain(d3.extent(data, function(d) { return d.date; }));
    //     y.domain([0, d3.max(data, function(d) {
    //         return Math.max(d.closes, d.open); })]);

    //     // Add the valueline path.
    //     // add lines

    //     // add valueline_open
    //     svg3.append("path")
    //         .data([data])
    //         .attr("class", "line")
    //         .attr("d", valueline_closes);

    //     // add valueline_closes
    //     svg3.append("path")
    //         .data([data])
    //         .attr("class", "line")
    //         .style("stroke", "red")
    //         .attr("d", valueline_open);

    //     // add the x-axis and y-axis

    //     // Add the X Axis
    //     svg3.append("g")
    //     .attr("transform", "translate(0," + height + ")")
    //     .call(d3.axisBottom(x))
    //     .style("font-size", "6");

    //     // Add the Y Axis
    //     svg3.append("g")
    //     .call(d3.axisLeft(y))
    //     .style("font-size", "8");



    // })
    // .catch(function(error) {
    //     console.error("Error loading CSV:", error);
    // });

    // var grouped_data_path = "https://gist.githubusercontent.com/benlcollins/2d7fb36cd0c295c00882/raw/6776a4cf60432d1e325d09dc6cddcd5d62405d26/stock_data.csv";

    var margin = { top: 30, right: 30, bottom: 70, left: 60 },
    width = 600 - margin.left - margin.right,
    height = 400 - margin.top - margin.bottom;

var histogramsvg = d3.select("#lesson_3").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

d3.csv("https://raw.githubusercontent.com/WeendyLRY/DV_SteelIndustry_MockDashboard/main/Steel_industry_data.csv").then(function(data) {
    // Extract the "NSM" values from the data
    var nsmValues = data.map(function(d) { return +d.NSM; });

    // Create a histogram function
    var histogram = d3.histogram()
        .value(function(d) { return d; })
        .domain(d3.extent(nsmValues))
        .thresholds(10); // You can adjust the number of bins

    // Calculate the bins
    var bins = histogram(nsmValues);

    // Create scales for the x and y axes
    var x = d3.scaleLinear()
        .domain([d3.min(bins, function(d) { return d.x0; }), d3.max(bins, function(d) { return d.x1; })])
        .range([0, width]);

    var y = d3.scaleLinear()
        .domain([0, d3.max(bins, function(d) { return d.length; })])
        .nice()
        .range([height, 0]);

    // Create the bars for the histogram
    histogramsvg.selectAll("rect")
        .data(bins)
        .enter()
        .append("rect")
        .attr("x", function(d) { return x(d.x0); })
        .attr("y", function(d) { return y(d.length); })
        .attr("width", function(d) { return x(d.x1) - x(d.x0) - 1; }) // Adjust the width and spacing
        .attr("height", function(d) { return height - y(d.length); })
        .attr("fill", "steelblue");

    // Add the x-axis
    histogramsvg.append("g")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x));

    // Add the y-axis
    histogramsvg.append("g")
        .call(d3.axisLeft(y));

    // Add a title
    histogramsvg.append("text")
        .attr("x", width / 2)
        .attr("y", -10)
        .attr("text-anchor", "middle")
        .style("font-size", "16px")
        .text("Histogram of NSM Values");

}).catch(function(error) {
    console.error("Error loading CSV:", error);
});


    ////**** fourth graph*****/////

    var TSmargin = { top: 30, right: 30, bottom: 70, left: 60 },
    TSwidth = 800 - TSmargin.left - TSmargin.right,
    TSheight = 400 - TSmargin.top - TSmargin.bottom;

var TSsvg = d3.select("#lesson_4").append("svg")
    .attr("width", TSwidth + TSmargin.left + TSmargin.right)
    .attr("height", TSheight + TSmargin.top + TSmargin.bottom)
    .append("g")
    .attr("transform", "translate(" + TSmargin.left + "," + TSmargin.top + ")");

d3.csv("Steel_industry_data.csv").then(function(data) {
    // Parse the date and Usage_kWh columns
    var parseDate = d3.timeParse("%m/%d/%Y %H:%M");
    data.forEach(function(d) {
        d.date = parseDate(d.date);
        d.Usage_kWh = +d.Usage_kWh;
    });

    // Extract unique load types to create multiple lines
    var TSloadTypes = d3.set(data.map(function(d) { return d.Load_Type; })).values();

    // Create a color scale for the lines
    var TScolor = d3.scaleOrdinal()
        .domain(TSloadTypes)
        .range(d3.schemeCategory10);

    // Create a time scale for the x-axis
    var TSx = d3.scaleTime()
        .domain(d3.extent(data, function(d) { return d.date; }))
        .range([0, TSwidth]);

    // Create a linear scale for the y-axis
    var TSy = d3.scaleLinear()
        .domain([0, d3.max(data, function(d) { return d.Usage_kWh; })])
        .range([height, 0]);

    // Create a line generator
    var TSline = d3.line()
        .x(function(d) { return x(d.date); })
        .y(function(d) { return y(d.Usage_kWh); });

    // Create and draw the lines for each load type
    TSloadTypes.forEach(function(type) {
        var typeData = data.filter(function(d) { return d.Load_Type === type; });

        TSsvg.append("path")
            .datum(typeData)
            .attr("class", "line")
            .attr("d", line)
            .style("stroke", color(type));
    });

    // Add the x-axis
    TSsvg.append("g")
        .attr("transform", "translate(0," + TSheight + ")")
        .call(d3.axisBottom(x));

    // Add the y-axis
    TSsvg.append("g")
        .call(d3.axisLeft(y));

    // Add a legend
    var TSlegend = TSsvg.selectAll(".legend")
        .data(loadTypes)
        .enter()
        .append("g")
        .attr("class", "legend")
        .attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });

        TSlegend.append("rect")
        .attr("x", TSwidth - 18)
        .attr("width", 18)
        .attr("height", 18)
        .style("fill", color);

        TSlegend.append("text")
        .attr("x", TSwidth - 24)
        .attr("y", 9)
        .attr("dy", ".35em")
        .style("text-anchor", "end")
        .text(function(d) { return d; });

    // Add a title
    TSsvg.append("text")
        .attr("x", TSwidth / 2)
        .attr("y", -10)
        .attr("text-anchor", "middle")
        .style("font-size", "16px")
        .text("Time Series Chart of Usage_kWh for Different Load Types");

}).catch(function(error) {
    console.error("Error loading CSV:", error);
});



    //fifth graph: facebook//



// append the svg obgect to the body of the page
// appends a 'group' element to 'svg'
// moves the 'group' element to the top left margin
var svg5 = d3.select("#apple__modified_grouped_data").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform",
      "translate(" + margin.left + "," + margin.top + ")");



// load data
d3.csv(grouped_data_path)
.then(function(data) {

    // format data
    data.forEach(function(d) {
        d.date = parseTime2(d.date);
        d.Apple = +d.Apple;
    });

    // set the ranges
    var x = d3.scaleTime().range([0, width]);
    var y = d3.scaleLinear().range([height, 0]);


var valueline_Apple = d3.line()
.x(function(d) { return x(d.date); })
.y(function(d) { return y(d.Apple); });

     // Scale the range of the data
    x.domain(d3.extent(data, function(d) { return d.date; }));
    y.domain([0, d3.max(data, function(d){ return d.Apple; })]);

    // Add the valueline path.
    // add lines

    // add valueline_open
    svg5.append("path")
        .data([data])
        .attr("class", "line")
        .attr("d", valueline_Apple);

    // add the x-axis and y-axis

    // Add the X Axis
    svg5.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(x))
    .style("font-size", "6");

    // Add the Y Axis
    svg5.append("g")
    .call(d3.axisLeft(y))
    .style("font-size", "8");

    // Title
    svg5.append("text")
            .attr("x", width / 2)
            .attr("y", -margin.top / 2)
            .attr("text-anchor", "middle")
            .style("font-size", "16")
            .text("Apple Stock Prices Over Time");

        // X Label
        svg5.append("text")
            .attr("x", width / 2)
            .attr("y", height + margin.bottom / 2)
            .attr("text-anchor", "middle")
            .style("font-size", "12")
            .text("Date");

        // Y Label
        svg5.append("text")
            .attr("transform", "rotate(-90)")
            .attr("x", -height / 2)
            .attr("y", -margin.left)
            .attr("dy", "1em")
            .style("font-size", "12")
            .text("Stock Price");



})
.catch(function(error) {
    console.error("Error loading CSV:", error);
});

////end of apple/////



 //fifth graph//
 //google//



// append the svg obgect to the body of the page
// appends a 'group' element to 'svg'
// moves the 'group' element to the top left margin
var svg6 = d3.select("#google__modified_grouped_data").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform",
      "translate(" + margin.left + "," + margin.top + ")");



// load data
d3.csv(grouped_data_path)
.then(function(data) {

    // format data
    data.forEach(function(d) {
        d.date = parseTime2(d.date);
        d.Apple = +d.Apple;
    });

    // set the ranges
    var x = d3.scaleTime().range([0, width]);
    var y = d3.scaleLinear().range([height, 0]);


var valueline_Google = d3.line()
.x(function(d) { return x(d.date); })
.y(function(d) { return y(d.Google); });

     // Scale the range of the data
    x.domain(d3.extent(data, function(d) { return d.date; }));
    y.domain([0, d3.max(data, function(d){ return d.Google; })]);

    // Add the valueline path.
    // add lines

    // add valueline_open
    svg6.append("path")
        .data([data])
        .attr("class", "line")
        .style("stroke", "red")
        .attr("d", valueline_Google);

    // add the x-axis and y-axis

    // Add the X Axis
    svg6.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(x))
    .style("font-size", "6");

    // Add the Y Axis
    svg6.append("g")
    .call(d3.axisLeft(y))
    .style("font-size", "8");

    // Title
    svg6.append("text")
            .attr("x", width / 2)
            .attr("y", -margin.top / 2)
            .attr("text-anchor", "middle")
            .style("font-size", "16")
            .text("Google Stock Prices Over Time");

        // X Label
        svg6.append("text")
            .attr("x", width / 2)
            .attr("y", height + margin.bottom / 2)
            .attr("text-anchor", "middle")
            .style("font-size", "12")
            .text("Date");

        // Y Label
        svg6.append("text")
            .attr("transform", "rotate(-90)")
            .attr("x", -height / 2)
            .attr("y", -margin.left)
            .attr("dy", "1em")
            .style("font-size", "12")
            .text("Stock Price");



})
.catch(function(error) {
    console.error("Error loading CSV:", error);
});

////end of google/////



 //fifth graph//
 //amazon_svg7//



// append the svg obgect to the body of the page
// appends a 'group' element to 'svg'
// moves the 'group' element to the top left margin
var svg7 = d3.select("#amazon__modified_grouped_data").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform",
      "translate(" + margin.left + "," + margin.top + ")");



// load data
d3.csv(grouped_data_path)
.then(function(data) {

    // format data
    data.forEach(function(d) {
        d.date = parseTime2(d.date);
        d.Amazon = +d.Amazon;
    });

    // set the ranges
    var x = d3.scaleTime().range([0, width]);
    var y = d3.scaleLinear().range([height, 0]);


var valueline_Amazon = d3.line()
.x(function(d) { return x(d.date); })
.y(function(d) { return y(d.Amazon); });

     // Scale the range of the data
    x.domain(d3.extent(data, function(d) { return d.date; }));
    y.domain([0, d3.max(data, function(d){ return d.Amazon; })]);

    // Add the valueline path.
    // add lines

    // add valueline_open
    svg7.append("path")
        .data([data])
        .attr("class", "line")
        .style("stroke", "blue")
        .attr("d", valueline_Amazon);

    // add the x-axis and y-axis

    // Add the X Axis
    svg7.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(x))
    .style("font-size", "6");

    // Add the Y Axis
    svg7.append("g")
    .call(d3.axisLeft(y))
    .style("font-size", "8");

    // Title
    svg7.append("text")
            .attr("x", width / 2)
            .attr("y", -margin.top / 2)
            .attr("text-anchor", "middle")
            .style("font-size", "16")
            .text("Amazon Stock Prices Over Time");

        // X Label
        svg7.append("text")
            .attr("x", width / 2)
            .attr("y", height + margin.bottom / 2)
            .attr("text-anchor", "middle")
            .style("font-size", "12")
            .text("Date");

        // Y Label
        svg7.append("text")
            .attr("transform", "rotate(-90)")
            .attr("x", -height / 2)
            .attr("y", -margin.left)
            .attr("dy", "1em")
            .style("font-size", "12")
            .text("Stock Price");



})
.catch(function(error) {
    console.error("Error loading CSV:", error);
});

/// end of amazon_svg7/////

//fifth graph//
 //amazon_svg7//



// append the svg obgect to the body of the page
// appends a 'group' element to 'svg'
// moves the 'group' element to the top left margin
var svg8 = d3.select("#microsoft__modified_grouped_data").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform",
      "translate(" + margin.left + "," + margin.top + ")");



// load data
d3.csv(grouped_data_path)
.then(function(data) {

    // format data
    data.forEach(function(d) {
        d.date = parseTime2(d.date);
        d.Microsoft = +d.Microsoft;
    });

    // set the ranges
    var x = d3.scaleTime().range([0, width]);
    var y = d3.scaleLinear().range([height, 0]);


var valueline_Microsoft = d3.line()
.x(function(d) { return x(d.date); })
.y(function(d) { return y(d.Microsoft); });

     // Scale the range of the data
    x.domain(d3.extent(data, function(d) { return d.date; }));
    y.domain([0, d3.max(data, function(d){ return d.Microsoft; })]);

    // Add the valueline path.
    // add lines

    // add valueline_open
    svg8.append("path")
        .data([data])
        .attr("class", "line")
        .style("stroke", "green")
        .attr("d", valueline_Microsoft);

    // add the x-axis and y-axis

    // Add the X Axis
    svg8.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(x))
    .style("font-size", "6");

    // Add the Y Axis
    svg8.append("g")
    .call(d3.axisLeft(y))
    .style("font-size", "8");

    // Title
    svg8.append("text")
            .attr("x", width / 2)
            .attr("y", -margin.top / 2)
            .attr("text-anchor", "middle")
            .style("font-size", "16")
            .text("Microsoft Stock Prices Over Time");

        // X Label
        svg8.append("text")
            .attr("x", width / 2)
            .attr("y", height + margin.bottom / 2)
            .attr("text-anchor", "middle")
            .style("font-size", "12")
            .text("Date");

        // Y Label
        svg8.append("text")
            .attr("transform", "rotate(-90)")
            .attr("x", -height / 2)
            .attr("y", -margin.left)
            .attr("dy", "1em")
            .style("font-size", "12")
            .text("Stock Price");



})
.catch(function(error) {
    console.error("Error loading CSV:", error);
});

// end of microsoft_svg8 //

//fifth graph//
 //ibm_svg9//



// append the svg obgect to the body of the page
// appends a 'group' element to 'svg'
// moves the 'group' element to the top left margin
var svg9 = d3.select("#ibm__modified_grouped_data").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform",
      "translate(" + margin.left + "," + margin.top + ")");



// load data
d3.csv(grouped_data_path)
.then(function(data) {

    // format data
    data.forEach(function(d) {
        d.date = parseTime2(d.date);
        d.IBM = +d.IBM;
    });

    // set the ranges
    var x = d3.scaleTime().range([0, width]);
    var y = d3.scaleLinear().range([height, 0]);


var valueline_IBM = d3.line()
.x(function(d) { return x(d.date); })
.y(function(d) { return y(d.IBM); });

     // Scale the range of the data
    x.domain(d3.extent(data, function(d) { return d.date; }));
    y.domain([0, d3.max(data, function(d){ return d.IBM; })]);

    // Add the valueline path.
    // add lines

    // add valueline_open
    svg9.append("path")
        .data([data])
        .attr("class", "line")
        .style("stroke", "#800080")
        .attr("d", valueline_IBM);

    // add the x-axis and y-axis

    // Add the X Axis
    svg9.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(x))
    .style("font-size", "6");

    // Add the Y Axis
    svg9.append("g")
    .call(d3.axisLeft(y))
    .style("font-size", "8");

    // Title
    svg9.append("text")
            .attr("x", width / 2)
            .attr("y", -margin.top / 2)
            .attr("text-anchor", "middle")
            .style("font-size", "16")
            .text("IBM Stock Prices Over Time");

        // X Label
        svg9.append("text")
            .attr("x", width / 2)
            .attr("y", height + margin.bottom / 2)
            .attr("text-anchor", "middle")
            .style("font-size", "12")
            .text("Date");

        // Y Label
        svg9.append("text")
            .attr("transform", "rotate(-90)")
            .attr("x", -height / 2)
            .attr("y", -margin.left)
            .attr("dy", "1em")
            .style("font-size", "12")
            .text("Stock Price");



})
.catch(function(error) {
    console.error("Error loading CSV:", error);
});

// end of IBM_svg9 //

//fifth graph//
 //amazon_svg7//



// append the svg obgect to the body of the page
// appends a 'group' element to 'svg'
// moves the 'group' element to the top left margin
var svg10 = d3.select("#facebook__modified_grouped_data").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform",
      "translate(" + margin.left + "," + margin.top + ")");



// load data
d3.csv(grouped_data_path)
.then(function(data) {

    // format data
    data.forEach(function(d) {
        d.date = parseTime2(d.date);
        d.Facebook = +d.Facebook;
    });

    // set the ranges
    var x = d3.scaleTime().range([0, width]);
    var y = d3.scaleLinear().range([height, 0]);


var valueline_Facebook = d3.line()
.x(function(d) { return x(d.date); })
.y(function(d) { return y(d.Facebook); });

     // Scale the range of the data
    x.domain(d3.extent(data, function(d) { return d.date; }));
    y.domain([0, d3.max(data, function(d){ return d.Facebook; })]);

    // Add the valueline path.
    // add lines

    // add valueline_open
    svg10.append("path")
        .data([data])
        .attr("class", "line")
        .style("stroke", "#BB830C")
        .attr("d", valueline_Facebook);

    // add the x-axis and y-axis

    // Add the X Axis
    svg10.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(x))
    .style("font-size", "6");

    // Add the Y Axis
    svg10.append("g")
    .call(d3.axisLeft(y))
    .style("font-size", "8");

    // Title
    svg10.append("text")
            .attr("x", width / 2)
            .attr("y", -margin.top / 2)
            .attr("text-anchor", "middle")
            .style("font-size", "16")
            .text("Facebook Stock Prices Over Time");

        // X Label
        svg10.append("text")
            .attr("x", width / 2)
            .attr("y", height + margin.bottom / 2)
            .attr("text-anchor", "middle")
            .style("font-size", "12")
            .text("Date");

        // Y Label
        svg10.append("text")
            .attr("transform", "rotate(-90)")
            .attr("x", -height / 2)
            .attr("y", -margin.left)
            .attr("dy", "1em")
            .style("font-size", "12")
            .text("Stock Price");



})
.catch(function(error) {
    console.error("Error loading CSV:", error);
});

// end of Facebook_svg10 //





    </script>
</body>
</html>